<main>
  <% if @book.errors.any? %>
  <h3 class="text-danger mt-4 ml-4"><%= @book.errors.count %>errors prohibited this obj from being saved:</h3>
  <% @book.errors.full_messages.each do |message| %>
    <ul class="mb-2">
    <li class="text-danger ml-4"><%= message %></li>
    </ul>
  <% end %>
<% end %>
<% if flash[:notice] %>
    <p class="notice text-success">
      <%= flash[:notice] %>
    </p>
  <% end %>
<%= render 'books/userinfo', books: @books, user: current_user %>
    <div class="col-md-8 offset-md-1">
      <h2>Books</h2>
      <table class="table table-hover table-inverse">
      <thead>
      <tr>
        <th></th>
        <th>Title</th>
        <th>Opinion</th>
        <th colspan="3"></th>
      </tr>
      </thead>
      <% @books.each do |book| %>
      <tbody>
      <tr>
        <td>
          <%= link_to user_path(book.user) do %>
          <%= attachment_image_tag book.user, :profile_image, :fill, 60, 60, fallback: "no_image.jpg" %>
          <% end %>
        </td>
        <td>
          <%= link_to(book_path(book)) do %>
          <%= book.title %>
          <% end %>
          </td>
        <td><%= book.body %></td>
        <td></td>
      </tr>
      </tbody>
      <% end %>
      </table>
    </div>
  </div>
</div>
</main>